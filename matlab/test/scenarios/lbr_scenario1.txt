hold on;axis equal;
if(strcmp(type_of_traj{1,1},'func'))  
    p_tot=[];
    pd_tot=[];
    pdd_tot=[];
    for t=time_struct.ti:time_struct.step:time_struct.tf
        
        
        p_cur=feval(reference.trajectories{1}.p,t);
        pd_cur=feval(reference.trajectories{1}.pd,t);
        pdd_cur=feval(reference.trajectories{1}.pdd,t);

        p_tot = [p_tot,p_cur];
        pd_tot = [pd_tot,pd_cur];
        pdd_tot = [pdd_tot,pdd_cur];
        
    end
    
elseif(strcmp(type_of_traj{1,1},'sampled'))
    p_tot = reference.trajectories{1}.p;
    pd_tot = reference.trajectories{1}.pd;
    pdd_tot = reference.trajectories{1}.pdd;
end

plot3(p_tot(1,1:end),p_tot(2,1:end),p_tot(3,1:end));
repulsive_point = [-0.15 -0.4000 0.3100];
scatter3(repulsive_point(1,1),repulsive_point(1,2),repulsive_point(1,3));
